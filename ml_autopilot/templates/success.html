<!-- success.html -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="your_stylesheet.css"> -->
    <title>ML on AutoPilot</title>
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
        }

        .flex-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            /* Your imaginary navbar styles */
            background-color: #333;
            color: white;
            padding: 10px;
        }

        .flex-container main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            /* Adjust this value for the desired distance */
        }

        footer {
            margin-top: auto;
            /* Push the footer to the bottom of the flex container */
        }

        .button-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 5px;
            /* Adjust this value for the desired distance */
        }

        .button-container button {
            /* Adjust this value for spacing between buttons */
            margin: 30px;
        }

        .button-container button {
            margin-bottom: 10px;
            /* Adjust this value for spacing between buttons */
        }
    </style>
</head>

<body class="bg-light">
    <div class="flex-container">
        
        <h2>File is correct!</h2>
        <p>Uploaded file: {{ file }}</p>
        <p>ADD EDA REPORT</p>
        
        <!-- Image below the navbar with some distance -->
        <main>
            <!-- success.html -->
            <form method="post" action="{% url 'process_options' %}">
                {% csrf_token %}
                <h1>Handle Categorical Features</h1>
            
                <!-- New style for encoding method -->
                <ul class="nav nav-pills nav-fill gap-2 p-1 small bg-primary rounded-5 shadow-sm" id="encodingMethod"
                    role="tablist"
                    style="--bs-nav-link-color: var(--bs-white); --bs-nav-pills-link-active-color: var(--bs-primary); --bs-nav-pills-link-active-bg: var(--bs-white);">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active rounded-5" id="labelEncoding" data-bs-toggle="tab" type="button"
                            role="tab" aria-selected="true" name="encoding_method" value="label">Label Encoding</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link rounded-5" id="onehotEncoding" data-bs-toggle="tab" type="button"
                            role="tab" aria-selected="false" name="encoding_method" value="onehot">One Hot encoding</button>
                    </li>
                </ul>
            
                <!-- Select Targeted Columns -->
                <h1>Select Targeted Columns</h1>
                <div class="dropdown mb-2">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Select Option
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        {% for column in columns %}
                        <a class="dropdown-item" href="#" onclick="selectColumn('{{ column }}')">{{ column }}</a>
                        {% endfor %}
                    </div>
                </div>
            
                <!-- Hidden input field to store selected columns -->
                <input type="hidden" id="selectedColumns" name="selected_columns" value="">
            
                <!-- Select Mode -->
                <h1>Select Mode</h1>
                <!-- Centered radio buttons for Automatic and Manual -->
                <ul class="nav nav-pills nav-fill gap-2 p-1 small bg-primary rounded-5 shadow-sm" id="modeOptions"
                    role="tablist"
                    style="--bs-nav-link-color: var(--bs-white); --bs-nav-pills-link-active-color: var(--bs-primary); --bs-nav-pills-link-active-bg: var(--bs-white);">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active rounded-5" id="automaticMode" data-bs-toggle="tab" type="button"
                            role="tab" aria-selected="true" name="mode" value="auto">Automatic</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link rounded-5" id="manualMode" data-bs-toggle="tab" type="button" role="tab"
                            aria-selected="false" name="mode" value="manual">Manual</button>
                    </li>
                </ul>
            
                <!-- Submit button -->
                <input type="submit" class="btn btn-primary" value="Submit">
            </form>
                       



        </main>
    </div>


    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

    <!-- Popper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
        <script>
            function selectColumn(column) {
                // Get the dropdown toggle button
                var dropdownToggleButton = document.getElementById("dropdownMenuButton");
        
                // Set the text of the dropdown toggle button to the selected column
                dropdownToggleButton.innerHTML = column;
        
                // Get the hidden input field for selected columns
                var selectedColumnsInput = document.getElementById("selectedColumns");
        
                // Get the currently selected columns
                var selectedColumns = selectedColumnsInput.value;
        
                // Add the newly selected column to the list of selected columns
                selectedColumns += (selectedColumns ? ',' : '') + column;
        
                // Update the value of the hidden input field
                selectedColumnsInput.value = selectedColumns;
            }
        </script>
</body>

</html>